<mxfile host="app.diagrams.net" modified="2021-08-02T17:16:10.177Z" agent="5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.164 Safari/537.36 OPR/77.0.4054.275" etag="X6lBp28dLIfiZep7Kxnx" version="14.9.3" type="github" pages="2">
  <diagram id="C5RBs43oDa-KdzZeNtuy" name="Page-1">
    <mxGraphModel dx="739" dy="752" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="WIyWlLk6GJQsqaUBKTNV-0" />
        <mxCell id="WIyWlLk6GJQsqaUBKTNV-1" parent="WIyWlLk6GJQsqaUBKTNV-0" />
        <mxCell id="3nTmCw3seRrjgoZ59tLl-4" value="GameManager" style="swimlane;fontStyle=1;align=left;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="70" y="140" width="250" height="360" as="geometry" />
        </mxCell>
        <mxCell id="3nTmCw3seRrjgoZ59tLl-5" value="+&lt;b&gt;&lt;font color=&quot;#FF8000&quot;&gt;GameManager&lt;/font&gt;&lt;/b&gt; const: instance&lt;br&gt;+&lt;b&gt;&lt;font color=&quot;#FF8000&quot;&gt;BoarManager&lt;/font&gt;&lt;/b&gt;: boardScript&lt;br&gt;+&lt;b&gt;&lt;font color=&quot;#FF8000&quot;&gt;Player &lt;/font&gt;&lt;/b&gt;:player&lt;br&gt;+&lt;b&gt;&lt;font color=&quot;#FF8000&quot;&gt;Enemy &lt;/font&gt;&lt;/b&gt;: enemy&lt;br&gt;&lt;br&gt;Int: &lt;font color=&quot;#0000FF&quot;&gt;level&lt;/font&gt;&lt;br&gt;bool: &lt;font color=&quot;#0000FF&quot;&gt;doingSetup&lt;/font&gt;&lt;br&gt;&lt;br&gt;&lt;font color=&quot;#006633&quot;&gt;// posiciones de instanciar jugador y enemigos&lt;/font&gt;&lt;br&gt;&lt;br&gt;&lt;b&gt;&lt;font color=&quot;#80FF00&quot;&gt;GameObject &lt;/font&gt;&lt;/b&gt;: ini_player&lt;br&gt;&lt;font color=&quot;#80FF00&quot;&gt;GameObject&lt;/font&gt;: ini_enemy&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;html=1;whiteSpace=wrap;" parent="3nTmCw3seRrjgoZ59tLl-4" vertex="1">
          <mxGeometry y="26" width="250" height="204" as="geometry" />
        </mxCell>
        <mxCell id="3nTmCw3seRrjgoZ59tLl-6" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;" parent="3nTmCw3seRrjgoZ59tLl-4" vertex="1">
          <mxGeometry y="230" width="250" height="8" as="geometry" />
        </mxCell>
        <mxCell id="3nTmCw3seRrjgoZ59tLl-7" value="+&lt;b&gt;Awake()&lt;/b&gt;: instancia los objetos necesarios.&lt;br&gt;&lt;div&gt;+I&lt;b&gt;nitGame()&lt;/b&gt;: carga la habitacion (&lt;b&gt;&lt;i&gt;BoardScript.SetupScene()&lt;/i&gt;&lt;/b&gt;);&lt;/div&gt;&lt;div&gt;+&lt;b&gt;TakeDamage(string ColliderTag)&lt;/b&gt;: gestiona cuando el arma choca con algo y aplica el daño al enemigo&lt;u&gt;&lt;b&gt;( esto ahora se deberia de quitar de aqui)&lt;/b&gt;&lt;/u&gt;**&lt;br&gt;&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;textDirection=ltr;html=1;whiteSpace=wrap;" parent="3nTmCw3seRrjgoZ59tLl-4" vertex="1">
          <mxGeometry y="238" width="250" height="122" as="geometry" />
        </mxCell>
        <mxCell id="9N0CPYYPgfrHTGAJbzb9-8" value="Player" style="swimlane;fontStyle=1;align=left;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="460" y="120" width="260" height="670" as="geometry" />
        </mxCell>
        <mxCell id="9N0CPYYPgfrHTGAJbzb9-9" value="+&lt;font color=&quot;#FF8000&quot;&gt;&lt;b&gt;BoxCollider2d &lt;/b&gt;&lt;/font&gt;boxcollider&lt;br&gt;+&lt;font color=&quot;#FF8000&quot;&gt;&lt;b&gt;RigidBody2D &lt;/b&gt;&lt;/font&gt;rb2D&lt;br&gt;&lt;br&gt;+&lt;b&gt;&lt;font color=&quot;#FF8000&quot;&gt;Animator &lt;/font&gt;&lt;/b&gt;animator&lt;br&gt;&lt;br&gt;+&lt;b&gt;&lt;font color=&quot;#FF8000&quot;&gt;Vector2 &lt;/font&gt;&lt;/b&gt;movementDirection&lt;br&gt;+float &lt;font color=&quot;#3333FF&quot;&gt;movementSpeed&lt;/font&gt;&lt;br&gt;+float &lt;font color=&quot;#3333FF&quot;&gt;moveX&lt;/font&gt;&lt;br&gt;+float &lt;font color=&quot;#3333FF&quot;&gt;moveY&lt;/font&gt;&lt;br&gt;&lt;br&gt;+float &lt;font color=&quot;#3333FF&quot;&gt;MOVEMENT_BASE_SPEED &lt;/font&gt;= 3.0f&lt;br&gt;&lt;br&gt;+int &lt;font color=&quot;#3333FF&quot;&gt;playerhealth &lt;/font&gt;= 3&lt;br&gt;+float &lt;font color=&quot;#3333FF&quot;&gt;inmuneTime &lt;/font&gt;= 2.0f&lt;br&gt;+float &lt;font color=&quot;#3333FF&quot;&gt;passinsTime &lt;/font&gt;= inmuneTime&lt;br&gt;+bool &lt;font color=&quot;#3333FF&quot;&gt;playerInmune &lt;/font&gt;= false&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;br&gt;&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;html=1;whiteSpace=wrap;" parent="9N0CPYYPgfrHTGAJbzb9-8" vertex="1">
          <mxGeometry y="26" width="260" height="264" as="geometry" />
        </mxCell>
        <mxCell id="9N0CPYYPgfrHTGAJbzb9-10" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;" parent="9N0CPYYPgfrHTGAJbzb9-8" vertex="1">
          <mxGeometry y="290" width="260" height="8" as="geometry" />
        </mxCell>
        <mxCell id="9N0CPYYPgfrHTGAJbzb9-11" value="&lt;div&gt;&lt;b&gt;+Start()&lt;/b&gt;: inicializar los componentes del jugador&lt;/div&gt;&lt;div&gt;&lt;b&gt;+FixedUpdate():&lt;/b&gt;&lt;/div&gt;&lt;ul&gt;&lt;li&gt;&lt;b&gt;ProcessInputs&lt;/b&gt;()&lt;/li&gt;&lt;li&gt;Trigger animacion movimiento&lt;/li&gt;&lt;li&gt;&lt;b&gt;Move&lt;/b&gt;();&lt;/li&gt;&lt;/ul&gt;&lt;div&gt;+&lt;b&gt;ProcessInputs&lt;/b&gt;(): gestion teclas , movimiento y animaciones, e invulnerabilidad.( esto se podría quitar a un metodo externo)**.&lt;/div&gt;&lt;div&gt;+&lt;b&gt;Move&lt;/b&gt;(): aplica los inputs al movimiento del RigidBody jugador.&lt;/div&gt;&lt;div&gt;+&lt;b&gt;OnCollisionEnter2D&lt;/b&gt;(): si choca con enemigo:&lt;/div&gt;&lt;ul&gt;&lt;li&gt;Animacion daño&lt;/li&gt;&lt;li&gt;Restar vida&lt;/li&gt;&lt;li&gt;Resetear contador inmune&lt;/li&gt;&lt;/ul&gt;&lt;div&gt;+&lt;b&gt;OnCollisionStay2D&lt;/b&gt;(): igual que arriba.&lt;/div&gt;&lt;div&gt;+&lt;b&gt;SetPlayerHealth&lt;/b&gt;(int modifyhealth).&lt;/div&gt;&lt;div&gt;+&lt;b&gt;UpdatePlayerhealth&lt;/b&gt;(): llamada al healthManager para actualizarse.&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;br&gt;&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;textDirection=ltr;html=1;whiteSpace=wrap;" parent="9N0CPYYPgfrHTGAJbzb9-8" vertex="1">
          <mxGeometry y="298" width="260" height="372" as="geometry" />
        </mxCell>
        <mxCell id="9N0CPYYPgfrHTGAJbzb9-12" value="Instancia un jugador" style="endArrow=block;endFill=1;html=1;edgeStyle=orthogonalEdgeStyle;align=left;verticalAlign=top;fontColor=#FF8000;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" source="3nTmCw3seRrjgoZ59tLl-5" target="9N0CPYYPgfrHTGAJbzb9-9" edge="1">
          <mxGeometry x="-0.4444" y="21" relative="1" as="geometry">
            <mxPoint x="320" y="840" as="sourcePoint" />
            <mxPoint x="480" y="840" as="targetPoint" />
            <Array as="points">
              <mxPoint x="360" y="268" />
              <mxPoint x="360" y="268" />
            </Array>
            <mxPoint x="-10" y="3" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="9N0CPYYPgfrHTGAJbzb9-13" value="1" style="edgeLabel;resizable=0;html=1;align=left;verticalAlign=bottom;" parent="9N0CPYYPgfrHTGAJbzb9-12" connectable="0" vertex="1">
          <mxGeometry x="-1" relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9N0CPYYPgfrHTGAJbzb9-18" value="+&lt;font color=&quot;#FF8000&quot;&gt;&lt;b&gt;BoxCollider2d &lt;/b&gt;&lt;/font&gt;boxcollider&lt;br&gt;+&lt;font color=&quot;#FF8000&quot;&gt;&lt;b&gt;RigidBody2D &lt;/b&gt;&lt;/font&gt;rb2D&lt;br&gt;&lt;br&gt;+&lt;b&gt;&lt;font color=&quot;#FF8000&quot;&gt;Animator &lt;/font&gt;&lt;/b&gt;animator&lt;br&gt;&lt;br&gt;+&lt;b&gt;&lt;font color=&quot;#FF8000&quot;&gt;Vector2 &lt;/font&gt;&lt;/b&gt;movementDirection&lt;br&gt;+float &lt;font color=&quot;#3333FF&quot;&gt;movementSpeed&lt;/font&gt;&lt;br&gt;+float &lt;font color=&quot;#3333FF&quot;&gt;moveX&lt;/font&gt;&lt;br&gt;+float &lt;font color=&quot;#3333FF&quot;&gt;moveY&lt;/font&gt;&lt;br&gt;&lt;br&gt;+float &lt;font color=&quot;#3333FF&quot;&gt;MOVEMENT_BASE_SPEED &lt;/font&gt;= 3.0f&lt;br&gt;&lt;br&gt;+int &lt;font color=&quot;#3333FF&quot;&gt;playerhealth &lt;/font&gt;= 3&lt;br&gt;+float &lt;font color=&quot;#3333FF&quot;&gt;inmuneTime &lt;/font&gt;= 2.0f&lt;br&gt;+float &lt;font color=&quot;#3333FF&quot;&gt;passinsTime &lt;/font&gt;= inmuneTime&lt;br&gt;+bool &lt;font color=&quot;#3333FF&quot;&gt;playerInmune &lt;/font&gt;= false&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;br&gt;&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;html=1;whiteSpace=wrap;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="460" y="146" width="260" height="264" as="geometry" />
        </mxCell>
        <mxCell id="9N0CPYYPgfrHTGAJbzb9-19" value="Weapon" style="swimlane;fontStyle=1;align=left;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="910" y="120" width="270" height="580" as="geometry" />
        </mxCell>
        <mxCell id="9N0CPYYPgfrHTGAJbzb9-20" value="&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#FF8000&quot;&gt;GameObject &lt;/font&gt;&lt;/b&gt;Weapon&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#FF8000&quot;&gt;Animator &lt;/font&gt;&lt;/b&gt;weaponAnimator&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#FF8000&quot;&gt;SpriteRenderer &lt;/font&gt;&lt;/b&gt;weaponRenderer&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#FF8000&quot;&gt;BoxCollider2D &lt;/font&gt;&lt;/b&gt;weaponCollider&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#FF8000&quot;&gt;GameObject &lt;/font&gt;&lt;/b&gt;player&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#FF8000&quot;&gt;Animator &lt;/font&gt;&lt;/b&gt;playerAnimator&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;float &lt;font color=&quot;#3333FF&quot;&gt;timeBtwAttack&lt;/font&gt;&lt;/div&gt;&lt;div&gt;float &lt;font color=&quot;#3333FF&quot;&gt;startTimeBtwAttack&lt;/font&gt;&lt;/div&gt;&lt;div&gt;float &lt;font color=&quot;#3333FF&quot;&gt;moveX&lt;/font&gt;&lt;/div&gt;&lt;div&gt;float &lt;font color=&quot;#3333FF&quot;&gt;moveY&lt;/font&gt;&lt;br&gt;&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;html=1;whiteSpace=wrap;" parent="9N0CPYYPgfrHTGAJbzb9-19" vertex="1">
          <mxGeometry y="26" width="270" height="194" as="geometry" />
        </mxCell>
        <mxCell id="9N0CPYYPgfrHTGAJbzb9-21" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;" parent="9N0CPYYPgfrHTGAJbzb9-19" vertex="1">
          <mxGeometry y="220" width="270" height="8" as="geometry" />
        </mxCell>
        <mxCell id="9N0CPYYPgfrHTGAJbzb9-22" value="&lt;div&gt;&lt;b&gt;+Start()&lt;/b&gt;:inicializa los componentes del arma y jugador( se podría mejorar**??)&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;+Update():&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;ProcessInputs&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;ProcessInputs&lt;/b&gt;():Gestiona un CD interno para no spamear ataques&lt;/div&gt;&lt;ul&gt;&lt;li&gt;&lt;b&gt;SetDirectionalAttack&lt;/b&gt;():asigna las variables de animaciones del ataque&lt;/li&gt;&lt;li&gt;Si se ataca, gestiona la animacion, el reset/trigger , el tiempo de espera, y comprueba que esto se cumpla antes de volver a atacar.&lt;/li&gt;&lt;/ul&gt;&lt;div&gt;&lt;b&gt;+OnTriggerEnter2d(Collider2dother): &lt;/b&gt;gestiona el ataque y que el enemigo reciba daño&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;+ResetWeapon():&lt;/b&gt; fuerza al arma a volver a su estado original y desaparecer y desactivar su sprite y collider.&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;+EndAnimation(): &lt;/b&gt;se llama al acabar cualquier animacion desde el gestor de animaciones&lt;b&gt;&lt;br&gt;&lt;/b&gt;&lt;/div&gt;&lt;br&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;br&gt;&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;textDirection=ltr;html=1;whiteSpace=wrap;" parent="9N0CPYYPgfrHTGAJbzb9-19" vertex="1">
          <mxGeometry y="228" width="270" height="352" as="geometry" />
        </mxCell>
        <mxCell id="9N0CPYYPgfrHTGAJbzb9-23" value="Tiene un arma" style="endArrow=block;endFill=1;html=1;edgeStyle=orthogonalEdgeStyle;align=left;verticalAlign=top;fontColor=#FF8000;" parent="WIyWlLk6GJQsqaUBKTNV-1" target="9N0CPYYPgfrHTGAJbzb9-20" edge="1">
          <mxGeometry x="-0.0625" y="25" relative="1" as="geometry">
            <mxPoint x="720" y="280" as="sourcePoint" />
            <mxPoint x="830" y="280" as="targetPoint" />
            <Array as="points">
              <mxPoint x="720" y="278" />
              <mxPoint x="775" y="278" />
              <mxPoint x="775" y="260" />
            </Array>
            <mxPoint x="-15" y="5" as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="9N0CPYYPgfrHTGAJbzb9-24" value="1" style="edgeLabel;resizable=0;html=1;align=left;verticalAlign=bottom;" parent="9N0CPYYPgfrHTGAJbzb9-23" connectable="0" vertex="1">
          <mxGeometry x="-1" relative="1" as="geometry" />
        </mxCell>
        <mxCell id="9N0CPYYPgfrHTGAJbzb9-25" value="HealthManager" style="swimlane;fontStyle=1;align=left;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="47" y="600" width="273" height="310" as="geometry" />
        </mxCell>
        <mxCell id="9N0CPYYPgfrHTGAJbzb9-26" value="&lt;div&gt;&lt;font color=&quot;#3333FF&quot;&gt;&lt;b&gt;&lt;font color=&quot;#FF8000&quot;&gt;HealthManager &lt;/font&gt;&lt;/b&gt;instance&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#3333FF&quot;&gt;&lt;font color=&quot;#000000&quot;&gt;&lt;b&gt;&lt;font color=&quot;#FF8000&quot;&gt;Canvas &lt;/font&gt;&lt;/b&gt;UICanvas&lt;/font&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#3333FF&quot;&gt;&lt;font color=&quot;#000000&quot;&gt;&lt;b&gt;&lt;font color=&quot;#FF8000&quot;&gt;image&lt;/font&gt;&lt;/b&gt;[] hearts&lt;/font&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#3333FF&quot;&gt;&lt;font color=&quot;#000000&quot;&gt;&lt;b&gt;&lt;font color=&quot;#FF8000&quot;&gt;sprite &lt;/font&gt;&lt;/b&gt;fullHeart&lt;/font&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#3333FF&quot;&gt;&lt;font color=&quot;#000000&quot;&gt;&lt;b&gt;&lt;font color=&quot;#FF8000&quot;&gt;sprite &lt;/font&gt;&lt;/b&gt;HalfHeart&lt;/font&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#3333FF&quot;&gt;&lt;font color=&quot;#000000&quot;&gt;&lt;b&gt;&lt;font color=&quot;#FF8000&quot;&gt;Sprite &lt;/font&gt;&lt;/b&gt;emptyHeart&lt;/font&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#3333FF&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#3333FF&quot;&gt;int health&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font color=&quot;#3333FF&quot;&gt;int numOfHearts&lt;br&gt;&lt;/font&gt;&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;html=1;whiteSpace=wrap;" parent="9N0CPYYPgfrHTGAJbzb9-25" vertex="1">
          <mxGeometry y="26" width="273" height="144" as="geometry" />
        </mxCell>
        <mxCell id="9N0CPYYPgfrHTGAJbzb9-27" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;" parent="9N0CPYYPgfrHTGAJbzb9-25" vertex="1">
          <mxGeometry y="170" width="273" height="8" as="geometry" />
        </mxCell>
        <mxCell id="9N0CPYYPgfrHTGAJbzb9-28" value="&lt;div&gt;&lt;b&gt;+Awake()&lt;/b&gt;: instancia el HealtManager y lo inicializa&lt;/div&gt;&lt;div&gt;Init(): carga la UI&lt;br&gt;&lt;b&gt;+Update()&lt;/b&gt;: init repetido( cambiar si es necesario)&lt;/div&gt;&lt;div&gt;+&lt;b&gt;Public UpdateUI(int health)&lt;/b&gt;:&amp;nbsp; asigna de forma externa el valor de la vida del jugador&lt;br&gt;&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;textDirection=ltr;html=1;whiteSpace=wrap;" parent="9N0CPYYPgfrHTGAJbzb9-25" vertex="1">
          <mxGeometry y="178" width="273" height="132" as="geometry" />
        </mxCell>
        <mxCell id="wWgWqLi8ZOxv-o6V3gP6-0" value="Enemy" style="swimlane;fontStyle=1;align=left;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;whiteSpace=wrap;html=1;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="1220" y="190" width="310" height="580" as="geometry" />
        </mxCell>
        <mxCell id="wWgWqLi8ZOxv-o6V3gP6-1" value="&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#FF8000&quot;&gt;Animator &lt;/font&gt;&lt;/b&gt;animator&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#FF8000&quot;&gt;Transform &lt;/font&gt;&lt;/b&gt;target&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;float &lt;font color=&quot;#3333FF&quot;&gt;speed&lt;/font&gt;&lt;/div&gt;&lt;div&gt;float &lt;font color=&quot;#0000FF&quot;&gt;minRange&lt;/font&gt;&lt;/div&gt;&lt;div&gt;float &lt;font color=&quot;#0000FF&quot;&gt;maxRange&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;int &lt;font color=&quot;#0000FF&quot;&gt;enemyMaxHealth&lt;/font&gt;&lt;/div&gt;&lt;div&gt;int &lt;font color=&quot;#0000FF&quot;&gt;enemyCurrentHealth&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;b&gt;&lt;font color=&quot;#FF8000&quot;&gt;HealthBar &lt;/font&gt;&lt;/b&gt;healthBar&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;int &lt;font color=&quot;#0000FF&quot;&gt;enemyAttack &lt;/font&gt;= 1&lt;/div&gt;&lt;div&gt;&amp;nbsp;//movement&lt;br&gt;float &lt;font color=&quot;#0000FF&quot;&gt;MOVEMENT_BASE_SPEED &lt;/font&gt;= 3.0f;&lt;br&gt;bool &lt;font color=&quot;#0000FF&quot;&gt;isMoving &lt;/font&gt;= false;&lt;br&gt;float &lt;font color=&quot;#0000FF&quot;&gt;moveX&lt;/font&gt;;&lt;br&gt;float &lt;font color=&quot;#0000FF&quot;&gt;moveY&lt;/font&gt;;&lt;br&gt;&lt;br&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; //const stats&lt;br&gt;const float &lt;font color=&quot;#0000FF&quot;&gt;inmuneTime &lt;/font&gt;= 2.0f;&lt;br&gt;float &lt;font color=&quot;#0000FF&quot;&gt;passingTime &lt;/font&gt;= inmuneTime;&lt;br&gt;&amp;nbsp;bool &lt;font color=&quot;#0000FF&quot;&gt;enemyInmune &lt;/font&gt;= false;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;html=1;whiteSpace=wrap;" parent="wWgWqLi8ZOxv-o6V3gP6-0" vertex="1">
          <mxGeometry y="26" width="310" height="334" as="geometry" />
        </mxCell>
        <mxCell id="wWgWqLi8ZOxv-o6V3gP6-2" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;" parent="wWgWqLi8ZOxv-o6V3gP6-0" vertex="1">
          <mxGeometry y="360" width="310" height="8" as="geometry" />
        </mxCell>
        <mxCell id="wWgWqLi8ZOxv-o6V3gP6-3" value="&lt;div&gt;&lt;b&gt;+Start():&lt;/b&gt;&lt;/div&gt;&lt;div&gt;+&lt;b&gt;FixedUpdate&lt;/b&gt;():Calcula si esta en el rango del jugador, si es asi se acerca.Y control de tiempo inmune entre ataques.&lt;/div&gt;&lt;div&gt;+&lt;b&gt;FollowPlayer&lt;/b&gt;():Aplica al enemigo el movimiento calculado&lt;/div&gt;&lt;div&gt;+&lt;b&gt;GoRespawn&lt;/b&gt;(): toDo&lt;/div&gt;&lt;div&gt;+&lt;b&gt;CheckisDeath&lt;/b&gt;(): devuelve si el enemigo ya est muerto&lt;/div&gt;&lt;div&gt;+&lt;b&gt;Public GetAttack()&lt;/b&gt;: devuelve el ataque &lt;br&gt;&lt;/div&gt;&lt;div&gt;+&lt;b&gt;public CheckIsInmune()&lt;/b&gt;: devuelve si es inmune&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;&lt;div&gt;&lt;br&gt;&lt;/div&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;textDirection=ltr;html=1;whiteSpace=wrap;" parent="wWgWqLi8ZOxv-o6V3gP6-0" vertex="1">
          <mxGeometry y="368" width="310" height="212" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram id="ASBr8qoeA5MWu0QP8f6R" name="Page-2">
    <mxGraphModel dx="739" dy="752" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="wdrHhV6NATDZ41vI4V7i-0" />
        <mxCell id="wdrHhV6NATDZ41vI4V7i-1" parent="wdrHhV6NATDZ41vI4V7i-0" />
        <mxCell id="sCEwWXcKsiwXXObVyiT2-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="wdrHhV6NATDZ41vI4V7i-1" source="j_7MbNfooBJ3I_V0OGsG-0" target="sCEwWXcKsiwXXObVyiT2-3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="sCEwWXcKsiwXXObVyiT2-10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="wdrHhV6NATDZ41vI4V7i-1" source="j_7MbNfooBJ3I_V0OGsG-0" target="sCEwWXcKsiwXXObVyiT2-9">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="105" y="384" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="j_7MbNfooBJ3I_V0OGsG-0" value="GameManager" style="swimlane;fontStyle=1;align=left;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;" vertex="1" parent="wdrHhV6NATDZ41vI4V7i-1">
          <mxGeometry x="250" y="320" width="210" height="128" as="geometry" />
        </mxCell>
        <mxCell id="j_7MbNfooBJ3I_V0OGsG-1" value="+&lt;font color=&quot;#ff8000&quot;&gt;&lt;b&gt;Comunicar sistemas&lt;/b&gt;&lt;/font&gt;&lt;br&gt;&lt;br&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;html=1;whiteSpace=wrap;" vertex="1" parent="j_7MbNfooBJ3I_V0OGsG-0">
          <mxGeometry y="26" width="210" height="94" as="geometry" />
        </mxCell>
        <mxCell id="j_7MbNfooBJ3I_V0OGsG-2" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;" vertex="1" parent="j_7MbNfooBJ3I_V0OGsG-0">
          <mxGeometry y="120" width="210" height="8" as="geometry" />
        </mxCell>
        <mxCell id="sCEwWXcKsiwXXObVyiT2-0" value="BoardManager" style="swimlane;fontStyle=1;align=left;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;" vertex="1" parent="wdrHhV6NATDZ41vI4V7i-1">
          <mxGeometry x="260" y="30" width="190" height="160" as="geometry" />
        </mxCell>
        <mxCell id="sCEwWXcKsiwXXObVyiT2-1" value="+Instanciar habitaciones.&lt;span style=&quot;white-space: pre&quot;&gt;	&lt;/span&gt;&lt;span style=&quot;white-space: pre&quot;&gt;	&lt;/span&gt;" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;html=1;whiteSpace=wrap;" vertex="1" parent="sCEwWXcKsiwXXObVyiT2-0">
          <mxGeometry y="26" width="190" height="64" as="geometry" />
        </mxCell>
        <mxCell id="sCEwWXcKsiwXXObVyiT2-2" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;" vertex="1" parent="sCEwWXcKsiwXXObVyiT2-0">
          <mxGeometry y="90" width="190" height="8" as="geometry" />
        </mxCell>
        <mxCell id="sCEwWXcKsiwXXObVyiT2-3" value="Usado por:&lt;br&gt;GameManager" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;textDirection=ltr;html=1;whiteSpace=wrap;" vertex="1" parent="sCEwWXcKsiwXXObVyiT2-0">
          <mxGeometry y="98" width="190" height="62" as="geometry" />
        </mxCell>
        <mxCell id="sCEwWXcKsiwXXObVyiT2-6" value="HealthManager" style="swimlane;fontStyle=1;align=left;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;" vertex="1" parent="wdrHhV6NATDZ41vI4V7i-1">
          <mxGeometry x="20" y="30" width="190" height="160" as="geometry" />
        </mxCell>
        <mxCell id="sCEwWXcKsiwXXObVyiT2-7" value="+Muestra y actualiza barras de vida" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;html=1;whiteSpace=wrap;" vertex="1" parent="sCEwWXcKsiwXXObVyiT2-6">
          <mxGeometry y="26" width="190" height="64" as="geometry" />
        </mxCell>
        <mxCell id="sCEwWXcKsiwXXObVyiT2-8" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;" vertex="1" parent="sCEwWXcKsiwXXObVyiT2-6">
          <mxGeometry y="90" width="190" height="8" as="geometry" />
        </mxCell>
        <mxCell id="sCEwWXcKsiwXXObVyiT2-9" value="Usado por:&lt;br&gt;GameManager" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;textDirection=ltr;html=1;whiteSpace=wrap;" vertex="1" parent="sCEwWXcKsiwXXObVyiT2-6">
          <mxGeometry y="98" width="190" height="62" as="geometry" />
        </mxCell>
        <mxCell id="sCEwWXcKsiwXXObVyiT2-11" value="SoundManager" style="swimlane;fontStyle=1;align=left;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;" vertex="1" parent="wdrHhV6NATDZ41vI4V7i-1">
          <mxGeometry x="560" y="300" width="190" height="160" as="geometry" />
        </mxCell>
        <mxCell id="sCEwWXcKsiwXXObVyiT2-12" value="+Reproduce sonidos y música." style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;html=1;whiteSpace=wrap;" vertex="1" parent="sCEwWXcKsiwXXObVyiT2-11">
          <mxGeometry y="26" width="190" height="64" as="geometry" />
        </mxCell>
        <mxCell id="sCEwWXcKsiwXXObVyiT2-13" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;" vertex="1" parent="sCEwWXcKsiwXXObVyiT2-11">
          <mxGeometry y="90" width="190" height="8" as="geometry" />
        </mxCell>
        <mxCell id="sCEwWXcKsiwXXObVyiT2-14" value="Usado por:&lt;br&gt;GameManager" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;textDirection=ltr;html=1;whiteSpace=wrap;" vertex="1" parent="sCEwWXcKsiwXXObVyiT2-11">
          <mxGeometry y="98" width="190" height="62" as="geometry" />
        </mxCell>
        <mxCell id="sCEwWXcKsiwXXObVyiT2-16" value="LevelGeneration    " style="swimlane;fontStyle=1;align=left;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;" vertex="1" parent="wdrHhV6NATDZ41vI4V7i-1">
          <mxGeometry x="550" y="30" width="190" height="150" as="geometry" />
        </mxCell>
        <mxCell id="sCEwWXcKsiwXXObVyiT2-17" value="+Genera el nivel con las rutas principal y secundarias.&lt;br&gt;+Usa BoardManager." style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;html=1;whiteSpace=wrap;" vertex="1" parent="sCEwWXcKsiwXXObVyiT2-16">
          <mxGeometry y="26" width="190" height="64" as="geometry" />
        </mxCell>
        <mxCell id="sCEwWXcKsiwXXObVyiT2-18" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;" vertex="1" parent="sCEwWXcKsiwXXObVyiT2-16">
          <mxGeometry y="90" width="190" height="8" as="geometry" />
        </mxCell>
        <mxCell id="sCEwWXcKsiwXXObVyiT2-19" value="Usado por:&lt;br&gt;GameManager" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;textDirection=ltr;html=1;whiteSpace=wrap;" vertex="1" parent="sCEwWXcKsiwXXObVyiT2-16">
          <mxGeometry y="98" width="190" height="52" as="geometry" />
        </mxCell>
        <mxCell id="sCEwWXcKsiwXXObVyiT2-21" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.937;entryY=-0.081;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="wdrHhV6NATDZ41vI4V7i-1" source="sCEwWXcKsiwXXObVyiT2-18" target="sCEwWXcKsiwXXObVyiT2-3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="sCEwWXcKsiwXXObVyiT2-22" value="EventRoomController" style="swimlane;fontStyle=1;align=left;verticalAlign=top;childLayout=stackLayout;horizontal=1;startSize=26;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=1;marginBottom=0;" vertex="1" parent="wdrHhV6NATDZ41vI4V7i-1">
          <mxGeometry x="40" y="490" width="190" height="150" as="geometry" />
        </mxCell>
        <mxCell id="sCEwWXcKsiwXXObVyiT2-23" value="+Instancia e inicia/pausa los enemigos y eventos" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;html=1;whiteSpace=wrap;" vertex="1" parent="sCEwWXcKsiwXXObVyiT2-22">
          <mxGeometry y="26" width="190" height="64" as="geometry" />
        </mxCell>
        <mxCell id="sCEwWXcKsiwXXObVyiT2-24" value="" style="line;strokeWidth=1;fillColor=none;align=left;verticalAlign=middle;spacingTop=-1;spacingLeft=3;spacingRight=3;rotatable=0;labelPosition=right;points=[];portConstraint=eastwest;" vertex="1" parent="sCEwWXcKsiwXXObVyiT2-22">
          <mxGeometry y="90" width="190" height="8" as="geometry" />
        </mxCell>
        <mxCell id="sCEwWXcKsiwXXObVyiT2-25" value="Usado por:&lt;br&gt;GameManager" style="text;strokeColor=none;fillColor=none;align=left;verticalAlign=top;spacingLeft=4;spacingRight=4;overflow=hidden;rotatable=0;points=[[0,0.5],[1,0.5]];portConstraint=eastwest;textDirection=ltr;html=1;whiteSpace=wrap;" vertex="1" parent="sCEwWXcKsiwXXObVyiT2-22">
          <mxGeometry y="98" width="190" height="52" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
